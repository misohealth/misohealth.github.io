---
layout: default
permalink: /dr-mahesh-jude-perera/appointment/
---

<link rel="stylesheet" href="{{ "/assets/css/main.min.css" | relative_url }}">
<script type="importmap">
{
	"imports": {
		"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
	}
}
</script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<section itemscope itemtype="https://schema.org/Person">
	<div class="bg-gradient-to-t from-slate-50 to-violet-50 rounded-br-full">
		<div class="max-w-screen-lg mx-auto px-4 py-12 md:py-16 z-10">
			<header class="md:flex md:align-center mb-9 md:mb-0">
				<div class="relative inline-block">
					<figure class="block w-14 h-14 rounded-full overflow-hidden mb-4 md:mb-0 p-1 bg-gradient-to-tr from-misolightblue via-misopurple to-misodarkblue">
						<img class="object-cover w-14 h-14 mr-1 mb-1 rounded-full" src="{{ "/assets/images/clinicians/dr_mahesh.jpeg" | relative_url }}"" alt="Dr Mahesh Jude Perera">
					</figure>
				</div>

				<h1 class="font-poppins text-xl md:text-2xl g-text-miso md:ml-4 mt-3">
					Book appointment with Dr Mahesh Jude Perera
				</h1>
			</header>
			<p class="mt-9"><a href="/dr-mahesh-jude-perera/" class="text-misodarkblue block text-sm hover:text-misopurple"><i class="fa-solid fa-arrow-left mr-1"></i> Go to clinician's detail</a></p>
		</div>
	</div>

	<article class="max-w-screen-lg mx-auto px-4 py-6 md:py-10">
		<div class="py-6 md:py-9">

			{% raw %}
				<div id="appointment-app">
					<form
						action="https://cln-stg.miso.health/api/appointment"
						method="post"
						class="p-4 md:p-6 bg-slate-50 rounded-xl"
						ref="appointmentFormRef"
						@submit="makeAppointment"
					>
					doctorId {{doctorId}}<br>
					name {{name}}<br>
					email {{email}}<br>
					patientId {{patientId}}<br>
					startsAt {{startsAt}}<br>
					endsAt {{endsAt}}<br>
						<div class="">
							<input type="hidden" name="doctor_id" v-model="doctorId">
							<input type="hidden" name="patient_id" v-model="patientId">

							<h2 class="font-poppins text-xl md:text-2xl mb-3 md:mb-4 g-text-miso">Book an appointment</h2>
							<label class="block text-gray-700 text-sm font-bold mb-2">Full name</label>
							<input class="max-w-lg mb-6 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="firstname" type="text" placeholder="Full name" v-model="name">

							<label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
							<input class="max-w-lg mb-6 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" type="email" placeholder="Email" v-model="email">

							<label class="block text-gray-700 text-sm font-bold mb-2">Appointment date</label>
							<input class="max-w-lg mb-6 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="starts_at" type="datetime-local" name="starts_at" v-model="startsAt">
							<input type="hidden" name="ends_at" v-model="endsAt">
						</div>

						<button type="submit" class="block px-4 py-2 rounded-full bg-gradient-to-tr from-misopurple to-misodarkblue font-medium text-white hover:bg-gradient-to-br hover:from-misopurple hover:to-misodarkblue">
							Book appointment
						</button>
					</form>
				</div>
			{% endraw %}

		</div>
	</article>
</section>

<script type="module">
	import { createApp, onMounted, ref, reactive } from 'vue';

	const appointment = createApp({
		setup() {
			const appointmentFormRef = ref(null);
			let formdata = reactive({
				data: {
					doctorId: 'af9c7edf-f1c2-4bab-b489-c6b2a1e312d4',
					name: 'Jane',
					email: 'hallo@jane.com',
					patientId: '',
					startsAt: '2022-07-27T09%3A00%3A00.000Z',
					endsAt: '2022-07-27T10%3A00%3A00.000Z',
				}
			});

			// onMounted(() => {
			// 	console.log('AXIOS', axios);
			// });

			const makeAppointment = (e) => {
				e.preventDefault();
				const action = appointmentFormRef.value.getAttribute('action');
				const data = new FormData(appointmentFormRef.value);
				console.log('DATA is what', data);
				console.log('DATA is what 2', formdata.data);
				axios.post(action, data, {
					// headers: { 'Content-Type': `multipart/form-data` }
				}).then(response => {
					console.log('response', response)
				});
			};

			return {
				makeAppointment,
				appointmentFormRef,
			};
		}
	});

	appointment.mount('#appointment-app');
</script>