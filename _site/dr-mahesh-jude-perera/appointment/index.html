<!DOCTYPE html>
<html lang="en" class="dark">
<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Miso Health | An integrated, holistic health companion for women to age gracefully and happily together</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Miso Health" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An integrated, holistic health companion for women to age gracefully and happily together" />
<meta property="og:description" content="An integrated, holistic health companion for women to age gracefully and happily together" />
<link rel="canonical" href="http://localhost:8080/dr-mahesh-jude-perera/appointment/" />
<meta property="og:url" content="http://localhost:8080/dr-mahesh-jude-perera/appointment/" />
<meta property="og:site_name" content="Miso Health" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Miso Health" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:8080/dr-mahesh-jude-perera/appointment/","headline":"Miso Health","description":"An integrated, holistic health companion for women to age gracefully and happily together","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Miso Health</title>
  <meta name="description"
    content="An integrated, holistic health companion for women to age gracefully and happily together">
  <meta name="author" content="Miso Health">

  <link rel="shortcut icon" type="image/ico" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/dist/main.css">
  <script src="https://kit.fontawesome.com/823d655421.js" crossorigin="anonymous"></script><link type="application/atom+xml" rel="alternate" href="http://localhost:8080/feed.xml" title="Miso Health" /></head><body class="font-dmsans tracking-wide">
  <header class="px-4 py-6 bg-violet-50 w-full z-10 top-0 border-b border-white">
    <div class="max-w-screen-lg mx-auto px-4 flex justify-between items-center">
      <h1 class="mr-4 md:mr-6">
        <a href="/" class="group flex items-center">
          <img src="/assets/images/Miso_logo.svg" alt="Miso Health" class="w-12 lg:w-16 mr-2" />
          <span class="font-firasans font-bold text-misobluedark tracking-widest text-xl">Miso</span>
        </a>
      </h1>

      <nav>
        <ul class="flex">
          <li class="ml-4 md:ml-6 tracking-wide"><a class="font-medium hover-g-miso" href="/blog/">Blog</a></li>
          <li class="ml-4 md:ml-6 tracking-wide"><a class="font-medium hover-g-miso" href="/dr-mahesh-jude-perera/">Clinicians</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main aria-label="Content">
    <link rel="stylesheet" href="/assets/css/main.min.css">
<script type="importmap">
{
	"imports": {
		"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
	}
}
</script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<section itemscope itemtype="https://schema.org/Person">
	<div class="bg-gradient-to-t from-slate-50 to-violet-50 rounded-br-full">
		<div class="max-w-screen-lg mx-auto px-4 py-12 md:py-16 z-10">
			<header class="md:flex md:align-center mb-9 md:mb-0">
				<div class="relative inline-block">
					<figure class="block w-14 h-14 rounded-full overflow-hidden mb-4 md:mb-0 p-1 bg-gradient-to-tr from-misolightblue via-misopurple to-misodarkblue">
						<img class="object-cover w-14 h-14 mr-1 mb-1 rounded-full" src="/assets/images/clinicians/dr_mahesh.jpeg"" alt="Dr Mahesh Jude Perera">
					</figure>
				</div>

				<h1 class="font-poppins text-xl md:text-2xl g-text-miso md:ml-4 mt-3">
					Book appointment with Dr Mahesh Jude Perera
				</h1>
			</header>
			<p class="mt-9"><a href="/dr-mahesh-jude-perera/" class="text-misodarkblue block text-sm hover:text-misopurple"><i class="fa-solid fa-arrow-left mr-1"></i> Go to clinician's detail</a></p>
		</div>
	</div>

	<article class="max-w-screen-lg mx-auto px-4 py-6 md:py-10">
		<div class="py-6 md:py-9">

			
				<div id="appointment-app">
					<form
						action="https://cln-stg.miso.health/api/appointment"
						method="post"
						class="p-4 md:p-6 bg-slate-50 rounded-xl"
						ref="appointmentFormRef"
						@submit="makeAppointment"
					>
						<div v-if="message.text?.length" class="px-4 py-3 mb-4 rounded-xl" :class="[message.status === 'success' ? 'text-green-700 bg-green-50 border-green-300' : 'text-red-700 bg-red-50 border-red-300']" v-cloak>
							{{ message.text }}
						</div>

						<input type="hidden" name="doctorId" v-model="formdata.data.doctorId">
						<input type="hidden" name="patientId" v-model="formdata.data.patientId">

						<h2 class="font-poppins text-xl md:text-2xl mb-3 md:mb-4 g-text-miso">Book an appointment</h2>
						<label class="block text-gray-700 text-sm font-bold mb-2">Full name</label>
						<input class="max-w-lg mb-6 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="name" name="name" type="text" placeholder="Full name" v-model="formdata.data.name">

						<label class="block text-gray-700 text-sm font-bold mb-2">Email</label>
						<input class="max-w-lg mb-6 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" name="email" type="email" placeholder="Email" v-model="formdata.data.email" >

						<label class="block text-gray-700 text-sm font-bold mb-2">Appointment date & time</label>
						<input class="max-w-lg mb-2 shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="starts_at" type="datetime-local" name="startsAt_layer" v-model.lazy="startsAt">
						<input type="hidden" name="endsAt" v-model="endsAt">
						<p class="text-sm text-gray-500 mb-6">One session is 45 minutes</p>

						<button type="submit" class="block px-4 py-2 rounded-full bg-gradient-to-tr from-misopurple to-misodarkblue font-medium text-white hover:bg-gradient-to-br hover:from-misopurple hover:to-misodarkblue">
							Book appointment
						</button>
					</form>
				</div>
			

		</div>
	</article>
</section>

<script type="module">
	import {
		createApp,
		onMounted,
		ref,
		reactive,
		watch
	} from 'vue';

	const appointment = createApp({
		setup() {

			Date.prototype.addHours = function(h) {
				this.setTime(this.getTime() + (h*60*60*1000));
				return this;
			}

			const message = reactive({
				text: '',
				status: ''
			});

			const appointmentFormRef = ref(null);
			const startsAt = ref(new Date());
			const endsAt = ref(new Date().addHours(0.75));

			let formdata = reactive({
				data: {
					doctorId: '2ff8a6af-eb42-4ddb-b13c-801088d9c986',
					name: '',
					email: '',
					patientId: '',
				}
			});

			watch(startsAt, (datetimelocal, datetimelocalprev) => {
				if (datetimelocal !== datetimelocalprev) {
					startsAt.value = datetimelocal;
				}
			});

			watch(formdata.data, (data, dataprev) => {
				message.text = '';
				message.status = '';
			});

			const makeAppointment = (e) => {
				e.preventDefault();
				const action = appointmentFormRef.value.getAttribute('action');
				const data = {
					...formdata.data,
					startsAt: new Date(startsAt._value).toISOString(),
					endsAt: new Date(startsAt._value).addHours(0.75).toISOString()
				};

				axios.post(action, data).then(response => {
					message.status = 'success';
					message.text = `We have recieved your appointment request with ${response.data.doctor_id} on ${response.data.starts_at} -  ${response.data.ends_at}. Your patient ID is ${response.data.patient_id}. Your appointment ID is ${response.data.id}`;
				}).catch(error => {
					message.status = 'error';
					message.text = error.message;
				});
			};

			return {
				makeAppointment,
				appointmentFormRef,
				startsAt,
				endsAt,
				message,
				formdata,
			};
		}
	});

	appointment.mount('#appointment-app');
</script>
  </main><footer class="bg-gradient-to-t from-violet-100 to-slate-50 relative">
  <div class="max-w-screen-lg mx-auto px-4 py-6 md:pt-12 md:pb-6">
    <div class="md:flex md:gap-6">
      <div class="md:w-1/2 mb-6">
        <h3 class="font-poppins text-2xl leading-relaxed text-violet-900">
          Holistic health companion for women to age gracefully and happily together.
        </h3>
      </div>

      <div class="md:w-1/4 text-sm mb-6"></div>

      <div class="md:w-1/4 text-sm mb-6">
        <ul>
          <li class="mb-2"><a href="">Home</a></li>
          <li class="mb-2"><a href="">About Miso</a></li>
          <li class="mb-2"><a href="">Menopause Library</a></li>
          <li class="mb-2"><a href="">Menopause Stories</a></li>
        </ul>
      </div>
      <div class="md:w-1/4 text-sm mb-6">
        <ul>
          <li class="mb-2"><a href="">Careers with Miso</a></li>
          <li class="mb-2"><a href="">Privacy Policy</a></li>
          <li class="mb-2"><a href="">Terms and conditions</a></li>
          <li class="mb-2"><a href="">Clinicians</a></li>
        </ul>
      </div>
    </div>

    <p class="text-center mt-9 text-sm text-slate-500">
      <i class="fa-solid fa-copyright mr-1"></i> 2022 Miso Health <span class="inline-block mx-2">â€¢</span> <a href="" class="inline-block">hello@miso.org</a>
    </p>
  </div>

  <div class="w-96 h-64 opacity-30 right-0 absolute bottom-0">
    <img src="/assets/images/bg_left.svg" alt="Miso Health" class="w-24 absolute bottom-0" />
    <img src="/assets/images/bg_middle.svg" alt="Miso Health" class="w-48 absolute bottom-0 ml-8" />
    <img src="/assets/images/bg_right.svg" alt="Miso Health" class="w-48 absolute bottom-0 ml-40" />
  </div>
</footer>
</body>

</html>